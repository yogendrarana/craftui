{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "headless-ui-tabs",
	"type": "registry:ui",
	"description": "A tabs component with animations",
	"dependencies": ["motion"],
	"registryDependencies": ["@craftui/lib-utils"],
	"files": [
		{
			"path": "src/registry/headless/ui/tabs/index.tsx",
			"content": "\"use client\";\n\nimport React from \"react\";\nimport {\n\tmotion,\n\ttype Variants,\n\ttype Transition,\n\tAnimatePresence,\n} from \"motion/react\";\n\nimport { cn } from \"@/lib/utils\";\n\ntype AnimationType = \"line\" | \"none\";\n\ninterface TabContextType {\n\tactiveTab: string;\n\tsetActiveTab: (tab: string) => void;\n\tanimationType: AnimationType;\n\tinstanceId: string;\n}\n\nconst TabContext = React.createContext<TabContextType | null>(null);\n\nconst useTabContext = () => {\n\tconst context = React.useContext(TabContext);\n\tif (!context) {\n\t\tthrow new Error(\"Tab components must be used within a Tabs component\");\n\t}\n\treturn context;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Tabs component\n * -------------------------------------------------------------------------------------------------\n */\ninterface TabsProps {\n\tchildren: React.ReactNode;\n\tdefaultTab: string;\n\tclassName?: string;\n\tanimationType?: AnimationType;\n\tinstanceId?: string;\n}\n\nconst Tabs = ({\n\tchildren,\n\tdefaultTab,\n\tclassName,\n\tanimationType = \"line\",\n\tinstanceId = Math.random().toString(36).slice(2),\n}: TabsProps) => {\n\tconst [activeTab, setActiveTab] = React.useState(defaultTab);\n\n\treturn (\n\t\t<TabContext.Provider\n\t\t\tvalue={{ activeTab, setActiveTab, animationType, instanceId }}\n\t\t>\n\t\t\t<div className={cn(\"w-full\", className)}>{children}</div>\n\t\t</TabContext.Provider>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * TabList component\n * -------------------------------------------------------------------------------------------------\n */\ninterface TabListProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst TabList = ({ children, className }: TabListProps) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"relative flex gap-2 border-b border-gray-200 dark:border-zinc-700\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Tab component\n * -------------------------------------------------------------------------------------------------\n */\ninterface TabProps {\n\tchildren: React.ReactNode;\n\tvalue: string;\n\tclassName?: string;\n\ticon?: React.ReactNode;\n}\n\nconst Tab = ({ children, value, className, icon }: TabProps) => {\n\tconst { activeTab, setActiveTab, animationType, instanceId } =\n\t\tuseTabContext();\n\tconst isActive = activeTab === value;\n\n\tconst getAnimationProps = () => {\n\t\tswitch (animationType) {\n\t\t\tcase \"line\":\n\t\t\t\treturn {\n\t\t\t\t\tlayoutId: `activeTab-${instanceId}`,\n\t\t\t\t\tclassName:\n\t\t\t\t\t\t\"absolute -bottom-[1px] left-0 right-0 h-[2px] rounded-full bg-black dark:bg-white\",\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\treturn {};\n\t\t}\n\t};\n\n\treturn (\n\t\t<motion.button\n\t\t\tonClick={() => setActiveTab(value)}\n\t\t\tclassName={cn(\n\t\t\t\t\"relative px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2\",\n\t\t\t\t{\n\t\t\t\t\t\"text-gray-500 hover:text-black dark:text-gray-400 dark:hover:text-white\":\n\t\t\t\t\t\t!isActive,\n\t\t\t\t},\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{icon && <span>{icon}</span>}\n\t\t\t{children}\n\t\t\t{isActive && animationType !== \"none\" && (\n\t\t\t\t<motion.div {...getAnimationProps()} />\n\t\t\t)}\n\t\t</motion.button>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * TabPanels component\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface TabPanelsProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst TabPanels = ({ children, className }: TabPanelsProps) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"mt-3 p-3 rounded border dark:border-zinc-700\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * TabPanel component\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface TabPanelProps {\n\tchildren: React.ReactNode;\n\tvalue: string;\n\tclassName?: string;\n\tvariants?: Variants;\n\ttransition?: Transition;\n}\n\nconst TabPanel = ({\n\tchildren,\n\tvalue,\n\tclassName,\n\tvariants = undefined,\n\ttransition = undefined,\n}: TabPanelProps) => {\n\tconst { activeTab } = useTabContext();\n\tif (activeTab !== value) return null;\n\n\treturn (\n\t\t<AnimatePresence mode=\"wait\">\n\t\t\t{activeTab === value && (\n\t\t\t\t<motion.div\n\t\t\t\t\tinitial=\"initial\"\n\t\t\t\t\tanimate=\"animate\"\n\t\t\t\t\texit=\"exit\"\n\t\t\t\t\tvariants={variants}\n\t\t\t\t\ttransition={transition}\n\t\t\t\t\tclassName={cn(className)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</motion.div>\n\t\t\t)}\n\t\t</AnimatePresence>\n\t);\n};\n\nexport { Tabs, TabList, Tab, TabPanels, TabPanel };\n",
			"type": "registry:ui",
			"target": "components/craftui/headless/ui/tabs.tsx"
		}
	]
}
