{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "ui-stepper",
	"type": "registry:ui",
	"description": "A stepper/wizard component",
	"dependencies": ["motion", "lucide-react"],
	"registryDependencies": ["@craftui/lib-utils"],
	"files": [
		{
			"path": "src/registry/ui/stepper/index.tsx",
			"content": "/**\n * @todo Add support vertical stepper\n * @todo Add support linear and non-linear stepper\n */\n\n\"use client\";\n\nimport React from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\ninterface StepperContextType {\n\tcurrentStep: number;\n\ttotalSteps: number;\n\tisLastStep: boolean;\n\tgoToNextStep: () => void;\n\tgoToPreviousStep: () => void;\n\tgoToStep: (step: number) => void;\n}\n\nconst StepperContext = React.createContext<StepperContextType>({\n\tcurrentStep: 0,\n\ttotalSteps: 0,\n\tisLastStep: false,\n\tgoToNextStep: () => {},\n\tgoToPreviousStep: () => {},\n\tgoToStep: () => {},\n});\n\n/* -------------------------------------------------------------------------------------------------\n * Stepper (Root component)\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepperProps {\n\tchildren: React.ReactNode;\n\tactiveStep?: number;\n\ttotalSteps: number;\n\tclassName?: string;\n\tonStepChange?: (step: number) => void;\n}\n\nconst Stepper = ({\n\tchildren,\n\tonStepChange,\n\tclassName = \"\",\n\ttotalSteps,\n\tactiveStep = 0,\n}: StepperProps) => {\n\tconst id = React.useId();\n\tconst [currentStep, setCurrentStep] = React.useState(activeStep);\n\tconst isLastStep = currentStep === totalSteps - 1;\n\n\tconst contextValue = React.useMemo(\n\t\t() => ({\n\t\t\tcurrentStep,\n\t\t\ttotalSteps,\n\t\t\tisLastStep,\n\t\t\tgoToNextStep: () =>\n\t\t\t\tonStepChange?.(Math.min(currentStep + 1, totalSteps - 1)) ||\n\t\t\t\tsetCurrentStep?.(Math.min(currentStep + 1, totalSteps - 1)),\n\t\t\tgoToPreviousStep: () =>\n\t\t\t\tonStepChange?.(Math.max(currentStep - 1, 0)) ||\n\t\t\t\tsetCurrentStep?.(Math.max(currentStep - 1, 0)),\n\t\t\tgoToStep: (step: number) =>\n\t\t\t\tonStepChange?.(Math.min(Math.max(step, 0), totalSteps - 1)) ||\n\t\t\t\tsetCurrentStep?.(Math.min(Math.max(step, 0), totalSteps - 1)),\n\t\t}),\n\t\t[currentStep, totalSteps, isLastStep, onStepChange],\n\t);\n\n\treturn (\n\t\t<StepperContext.Provider value={contextValue}>\n\t\t\t<fieldset\n\t\t\t\tid={id}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"w-full mx-auto p-4\",\n\t\t\t\t\t\"sm:w-full md:w-[24rem] lg:w-120 xl:w-xl\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<legend className=\"sr-only\">Stepper</legend>\n\t\t\t\t{children}\n\t\t\t</fieldset>\n\t\t</StepperContext.Provider>\n\t);\n};\n\nconst useStepper = () => {\n\tconst context = React.useContext(StepperContext);\n\tif (!context) {\n\t\tthrow new Error(\"useStepper must be used within a StepperProvider\");\n\t}\n\treturn context;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * StepperContent\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepperContentProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst StepperContent = ({ children, className }: StepperContentProps) => {\n\treturn <div className={cn(\"my-6\", className)}>{children}</div>;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Step Component\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tstep: number;\n}\n\nconst Step = ({ children, step, className = \"\" }: StepProps) => {\n\tconst { currentStep } = useStepper();\n\tconst isActive = currentStep === step - 1;\n\n\tif (!isActive) return null;\n\n\treturn (\n\t\t<div className={cn(\"space-y-4\", className)}>\n\t\t\t<AnimatePresence mode=\"wait\">\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={step}\n\t\t\t\t\tinitial={{ opacity: 0, y: 10 }}\n\t\t\t\t\tanimate={{ opacity: 1, y: 0 }}\n\t\t\t\t\texit={{ opacity: 0, y: -10 }}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</motion.div>\n\t\t\t</AnimatePresence>\n\t\t</div>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Step Title\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepTitleProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst StepTitle = ({ children, className = \"\" }: StepTitleProps) => {\n\treturn (\n\t\t<h3\n\t\t\tclassName={cn(\n\t\t\t\t\"text-lg font-semibold leading-none tracking-tight\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</h3>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Step Description\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepDescriptionProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst StepDescription = ({\n\tchildren,\n\tclassName = \"\",\n}: StepDescriptionProps) => {\n\treturn (\n\t\t<p\n\t\t\tclassName={cn(\n\t\t\t\t\"text-sm text-gray-500 dark:text-gray-400\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</p>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * PrevStep\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface PrevStepProps {\n\tclassName?: string;\n}\n\nconst PrevStep = ({ className = \"\" }: PrevStepProps) => {\n\tconst { currentStep, goToPreviousStep } = useStepper();\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tonClick={goToPreviousStep}\n\t\t\tdisabled={currentStep === 0}\n\t\t\tclassName={cn(\n\t\t\t\t\"inline-flex items-center gap-2 rounded-md border px-4 py-2 text-sm transition-colors\",\n\t\t\t\t\"border-gray-300 text-gray-700 hover:bg-gray-100\",\n\t\t\t\t{\n\t\t\t\t\t\"text-gray-400 cursor-not-allowed opacity-70 hover:bg-transparent\":\n\t\t\t\t\t\tcurrentStep === 0,\n\t\t\t\t},\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t<ChevronLeft className=\"w-4 h-4\" />\n\t\t\tPrev\n\t\t</button>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * NextStep\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface NextStepProps {\n\tonFinish: () => void;\n\tclassName?: string;\n}\n\nconst NextStep = ({ onFinish, className = \"\" }: NextStepProps) => {\n\tconst { goToNextStep, isLastStep } = useStepper();\n\n\tconst handleClick = () => {\n\t\tif (isLastStep && onFinish) {\n\t\t\tonFinish();\n\t\t} else {\n\t\t\tgoToNextStep();\n\t\t}\n\t};\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tonClick={handleClick}\n\t\t\tclassName={cn(\n\t\t\t\t\"inline-flex items-center gap-2 rounded-md border px-4 py-2 text-sm transition-colors\",\n\t\t\t\t\"border-gray-300 text-gray-700 hover:bg-gray-100\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{isLastStep ? \"Finish\" : \"Next\"}\n\t\t\t<ChevronRight className=\"w-4 h-4\" />\n\t\t</button>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * StepIndicator\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepIndicatorProps {\n\tvariant?: \"dots\" | \"fraction\" | \"progress\" | \"numbers\" | \"text\";\n\tclassName?: string;\n}\n\nconst StepIndicator = ({\n\tvariant = \"dots\",\n\tclassName = \"\",\n}: StepIndicatorProps) => {\n\tconst { currentStep, totalSteps, goToStep } = useStepper();\n\n\tswitch (variant) {\n\t\tcase \"fraction\":\n\t\t\treturn (\n\t\t\t\t<div className={cn(\"text-sm font-medium\", className)}>\n\t\t\t\t\tStep {currentStep + 1} of {totalSteps}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tcase \"progress\": {\n\t\t\tconst progress = ((currentStep + 1) / totalSteps) * 100;\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"w-full bg-gray-200 rounded-full h-2\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tclassName=\"bg-black dark:bg-zinc-700 h-2 rounded-full\"\n\t\t\t\t\t\tinitial={{ width: 0 }}\n\t\t\t\t\t\tanimate={{ width: `${progress}%` }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tcase \"numbers\":\n\t\t\treturn (\n\t\t\t\t<div className={cn(\"flex space-x-2\", className)}>\n\t\t\t\t\t{[...Array(totalSteps)].map((_, index) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={() => goToStep(index)}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"w-6 h-6 rounded flex items-center justify-center text-xs transition-all duration-300\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"bg-black dark:bg-zinc-700 text-white\":\n\t\t\t\t\t\t\t\t\t\tindex === currentStep,\n\t\t\t\t\t\t\t\t\t\"bg-gray-200 dark:bg-gray-300 text-black\":\n\t\t\t\t\t\t\t\t\t\tindex !== currentStep,\n\t\t\t\t\t\t\t\t\t\"hover:bg-gray-300\": index !== currentStep,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{index + 1}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tcase \"text\":\n\t\t\treturn (\n\t\t\t\t<div className={cn(\"flex items-center space-x-4\", className)}>\n\t\t\t\t\t{[...Array(totalSteps)].map((_, index) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={() => goToStep(index)}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"text-sm font-medium transition-all duration-300\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"text-black dark:text-gray-200\":\n\t\t\t\t\t\t\t\t\t\tindex === currentStep,\n\t\t\t\t\t\t\t\t\t\"text-gray-400 dark:text-gray-500 hover:text-black dark:hover:text-gray-400\":\n\t\t\t\t\t\t\t\t\t\tindex !== currentStep,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStep {index + 1}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t// default dots\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<div className={cn(\"flex space-x-2\", className)}>\n\t\t\t\t\t{[...Array(totalSteps)].map((_, index) => (\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName={cn(\"w-2 h-2 rounded-full\", {\n\t\t\t\t\t\t\t\t\"bg-black dark:bg-zinc-700\":\n\t\t\t\t\t\t\t\t\tindex === currentStep,\n\t\t\t\t\t\t\t\t\"bg-gray-300\": index !== currentStep,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tinitial={{ scale: 1 }}\n\t\t\t\t\t\t\tanimate={{ scale: index === currentStep ? 1.5 : 1 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t);\n\t}\n};\n\n/* -------------------------------------------------------------------------------------------------\n * StepNavigation\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface StepperNavigationProps {\n\tonFinish: () => void;\n\tclassName?: string;\n}\n\nconst StepperNavigation = ({\n\tonFinish,\n\tclassName = \"\",\n}: StepperNavigationProps) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\"flex justify-between items-center gap-2\", className)}\n\t\t>\n\t\t\t<PrevStep />\n\t\t\t<NextStep onFinish={onFinish} />\n\t\t</div>\n\t);\n};\n\nexport {\n\tStepper,\n\tStepperContent,\n\tStep,\n\tStepTitle,\n\tStepDescription,\n\tPrevStep,\n\tNextStep,\n\tStepIndicator,\n\tStepperNavigation,\n};\n",
			"type": "registry:ui",
			"target": "components/craftui/headless/ui/stepper.tsx"
		}
	]
}
