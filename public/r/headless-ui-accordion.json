{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "headless-ui-accordion",
	"type": "registry:ui",
	"description": "A raw implementation of accordion component",
	"dependencies": ["motion"],
	"registryDependencies": ["@craftui/lib-utils"],
	"files": [
		{
			"path": "src/registry/headless/ui/accordion/index.tsx",
			"content": "\"use client\";\n\nimport type React from \"react\";\nimport { createContext, useContext, useState } from \"react\";\nimport { motion, AnimatePresence, type Variants } from \"motion/react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Context\ninterface AccordionContextType {\n\topenItems: string[];\n\ttoggleItem: (id: string) => void;\n}\n\nconst AccordionContext = createContext<AccordionContextType | undefined>(\n\tundefined,\n);\n\n// Variants\nconst defaultVariants: Variants = {\n\thidden: {\n\t\topacity: 0,\n\t\theight: 0,\n\t\ttransition: { duration: 0.3, ease: [0.04, 0.62, 0.23, 0.98] },\n\t},\n\tvisible: {\n\t\topacity: 1,\n\t\theight: \"auto\",\n\t\ttransition: { duration: 0.3, ease: [0.04, 0.62, 0.23, 0.98] },\n\t},\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Accordion (provider) component\n * -------------------------------------------------------------------------------------------------\n */\n\ninterface AccordionProps {\n\tchildren: React.ReactNode;\n\tallowMultipleOpen?: boolean;\n\tdefaultOpen?: string[];\n\tclassName?: string;\n}\n\nconst Accordion: React.FC<AccordionProps> = ({\n\tchildren,\n\tallowMultipleOpen = false,\n\tdefaultOpen = [],\n\tclassName = \"\",\n}) => {\n\tconst [openItems, setOpenItems] = useState<string[]>(defaultOpen);\n\n\tconst toggleItem = (id: string) => {\n\t\tsetOpenItems((prev) => {\n\t\t\tif (allowMultipleOpen) {\n\t\t\t\treturn prev.includes(id)\n\t\t\t\t\t? prev.filter((item) => item !== id)\n\t\t\t\t\t: [...prev, id];\n\t\t\t} else {\n\t\t\t\treturn prev.includes(id) ? [] : [id];\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<AccordionContext.Provider value={{ openItems, toggleItem }}>\n\t\t\t<div className={cn(\"space-y-2\", className)}>{children}</div>\n\t\t</AccordionContext.Provider>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * AccordionItem component\n * -------------------------------------------------------------------------------------------------\n */\ninterface AccordionItemProps {\n\tchildren: React.ReactNode;\n\tid: string;\n\tclassName?: string;\n}\n\nconst AccordionItemContext = createContext<{ id: string } | undefined>(\n\tundefined,\n);\n\nconst AccordionItem: React.FC<AccordionItemProps> = ({\n\tchildren,\n\tid,\n\tclassName = \"\",\n}) => {\n\treturn (\n\t\t<AccordionItemContext.Provider value={{ id }}>\n\t\t\t<div className={cn(\"overflow-hidden\", className)} data-state={id}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</AccordionItemContext.Provider>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * AccordionTrigger component\n * -------------------------------------------------------------------------------------------------\n */\ninterface AccordionTriggerProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst AccordionTrigger: React.FC<AccordionTriggerProps> = ({\n\tchildren,\n\tclassName = \"\",\n}) => {\n\tconst context = useContext(AccordionContext);\n\tif (!context)\n\t\tthrow new Error(\"AccordionTrigger must be used within an Accordion\");\n\n\tconst { openItems, toggleItem } = context;\n\tconst itemContext = useContext(AccordionItemContext);\n\tif (!itemContext)\n\t\tthrow new Error(\n\t\t\t\"AccordionTrigger must be used within an AccordionItem\",\n\t\t);\n\n\tconst { id } = itemContext;\n\tconst isOpen = openItems.includes(id);\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"group flex w-full border-b cursor-pointer items-baseline justify-between gap-4 py-2 text-left font-medium\",\n\t\t\t\t\"focus-visible:outline focus-visible:outline-blue-800\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tonClick={() => toggleItem(id)}\n\t\t\tdata-state={isOpen ? \"open\" : \"closed\"}\n\t\t\taria-expanded={isOpen}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\n/* -------------------------------------------------------------------------------------------------\n * AccordionContent component\n * -------------------------------------------------------------------------------------------------\n */\ninterface AccordionContentProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tvariants?: Variants;\n}\n\nconst AccordionContent: React.FC<AccordionContentProps> = ({\n\tchildren,\n\tclassName = \"\",\n\tvariants = defaultVariants,\n}) => {\n\tconst context = useContext(AccordionContext);\n\tif (!context)\n\t\tthrow new Error(\"AccordionContent must be used within an Accordion\");\n\n\tconst { openItems } = context;\n\tconst itemContext = useContext(AccordionItemContext);\n\tif (!itemContext)\n\t\tthrow new Error(\n\t\t\t\"AccordionContent must be used within an AccordionItem\",\n\t\t);\n\n\tconst { id } = itemContext;\n\tconst isOpen = openItems.includes(id);\n\n\treturn (\n\t\t<AnimatePresence initial={false}>\n\t\t\t{isOpen && (\n\t\t\t\t<motion.div\n\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\tvariants={variants}\n\t\t\t\t\tdata-panel-open={isOpen}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"py-2 text-gray-500\",\n\t\t\t\t\t\t\t\"dark:text-gray-400\",\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t</motion.div>\n\t\t\t)}\n\t\t</AnimatePresence>\n\t);\n};\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n",
			"type": "registry:ui",
			"target": "components/craftui/headless/ui/accordion.tsx"
		}
	]
}
