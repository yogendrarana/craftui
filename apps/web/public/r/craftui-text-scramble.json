{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "craftui-text-scramble",
	"type": "registry:component",
	"description": "A text scrambling animation effect component",
	"dependencies": [],
	"registryDependencies": ["@craftdotui/utils"],
	"files": [
		{
			"path": "packages/craftui/components/text-scramble/index.tsx",
			"content": "\"use client\";\n\nimport type React from \"react\";\nimport { useState, useEffect, useCallback } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\ninterface PropType {\n\tchildren: string;\n\tspeed?: number;\n\tduration?: number;\n\ttrigger?: boolean;\n\tclassName?: string;\n\tcharacterSet?: string;\n\tas?: React.ElementType;\n\tonScrambleEnd?: () => void;\n}\n\nconst defaultCharacterSet =\n\t\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\nexport default function TextScramble({\n\tchildren = \"Hello, World!\",\n\tspeed = 50,\n\tduration = 3,\n\ttrigger = true,\n\tclassName = \"\",\n\tcharacterSet = defaultCharacterSet,\n\tas: Component = \"span\",\n\tonScrambleEnd,\n}: PropType) {\n\tconst [scrambledText, setScrambledText] = useState(children);\n\n\tconst scrambleText = useCallback(() => {\n\t\tlet currentIndex = 0;\n\t\tconst endTime = Date.now() + duration * 1000;\n\n\t\tconst scrambleInterval = setInterval(() => {\n\t\t\tif (Date.now() > endTime) {\n\t\t\t\tclearInterval(scrambleInterval);\n\t\t\t\tsetScrambledText(children);\n\t\t\t\tonScrambleEnd?.();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst scrambled = children\n\t\t\t\t.split(\"\")\n\t\t\t\t.map((char, index) => {\n\t\t\t\t\tif (char === \" \") {\n\t\t\t\t\t\treturn \" \";\n\t\t\t\t\t}\n\t\t\t\t\treturn index < currentIndex\n\t\t\t\t\t\t? char\n\t\t\t\t\t\t: characterSet[\n\t\t\t\t\t\t\t\tMath.floor(Math.random() * characterSet.length)\n\t\t\t\t\t\t\t];\n\t\t\t\t})\n\t\t\t\t.join(\"\");\n\n\t\t\tsetScrambledText(scrambled);\n\t\t\tcurrentIndex = Math.min(currentIndex + 1, children.length);\n\t\t}, speed);\n\n\t\treturn () => clearInterval(scrambleInterval);\n\t}, [children, duration, speed, characterSet, onScrambleEnd]);\n\n\tuseEffect(() => {\n\t\tif (trigger) {\n\t\t\tconst cleanup = scrambleText();\n\t\t\treturn cleanup;\n\t\t} else {\n\t\t\tsetScrambledText(children);\n\t\t}\n\t}, [trigger, scrambleText, children]);\n\n\treturn (\n\t\t<Component className={cn(\"font-mono\", className)}>\n\t\t\t{scrambledText}\n\t\t</Component>\n\t);\n}\n",
			"type": "registry:component",
			"target": "components/craftui/components/text-scramble.tsx"
		}
	]
}
