---
title: Utils
description: Utility functions including cn for merging Tailwind classes
slug: /lib/utils
published: true
date: 2025-01-26T00:00:00.000Z
category: lib
---

## Installation

```bash
npx craftui add lib-utils
```

This will install the required dependencies:
- `clsx`
- `tailwind-merge`

## Usage

### cn Function

The `cn` function is a utility for conditionally joining classNames together. It combines the power of `clsx` for conditional class names with `tailwind-merge` to intelligently merge Tailwind CSS classes.

```tsx
import { cn } from "@/lib/utils";

function Button({ className, variant = "default" }) {
  return (
    <button
      className={cn(
        "px-4 py-2 rounded-md font-medium transition-colors",
        {
          "bg-blue-500 text-white hover:bg-blue-600": variant === "default",
          "bg-gray-200 text-gray-900 hover:bg-gray-300": variant === "secondary",
        },
        className
      )}
    >
      Click me
    </button>
  );
}
```

## API Reference

### cn

Merges class names using `clsx` and `tailwind-merge`.

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| ...inputs | ClassValue[] | Class names to merge (strings, objects, arrays, etc.) |

**Returns:** `string` - Merged class names

## Features

### Conditional Classes

```tsx
cn("base-class", {
  "active-class": isActive,
  "disabled-class": isDisabled,
});
```

### Array Support

```tsx
cn(["class1", "class2"], "class3");
```

### Tailwind Conflict Resolution

```tsx
// Without cn: both classes applied, causing conflicts
<div className="px-4 px-2" /> // ❌ Both paddings applied

// With cn: intelligently merges, keeping only the last one
<div className={cn("px-4", "px-2")} /> // ✅ Only px-2 applied
```

### Complex Example

```tsx
function Card({ className, variant, size, disabled }) {
  return (
    <div
      className={cn(
        // Base styles
        "rounded-lg border shadow-sm",
        
        // Variant styles
        {
          "bg-white border-gray-200": variant === "default",
          "bg-blue-50 border-blue-200": variant === "primary",
          "bg-red-50 border-red-200": variant === "danger",
        },
        
        // Size styles
        {
          "p-4": size === "sm",
          "p-6": size === "md",
          "p-8": size === "lg",
        },
        
        // State styles
        disabled && "opacity-50 cursor-not-allowed",
        
        // Custom className from props
        className
      )}
    >
      Card content
    </div>
  );
}
```

## Why Use cn?

1. **Conditional Classes**: Easily apply classes based on conditions
2. **Tailwind Conflict Resolution**: Automatically resolves conflicting Tailwind classes
3. **Type Safety**: Full TypeScript support with `ClassValue` type
4. **Clean Code**: More readable than string concatenation
5. **Performance**: Optimized for production use

## Source Code

<ComponentSource name="lib-utils" />
